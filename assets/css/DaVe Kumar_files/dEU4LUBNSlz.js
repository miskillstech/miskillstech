/*!CK:549884801!*//*1457978460,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["YEOV8"]); }

__d("PlaceTagType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CITY:"city",STATE_PROVINCE:"state_province",COUNTRY:"country",PLACE:"place",EVENT:"event",RESIDENCE:"residence",TEXT:"text"};},null);
__d('legacy:connect-xd',['XD'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();b.UnverifiedXD=c('XD').UnverifiedXD;b.XD=c('XD').XD;},3);
__d('SharerQuotation',['DOM','CSS'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=null,i=null,j={addCloseListener:function(k){k.addEventListener('click',function(){c('CSS').hide(i);if(h)h.value='';});},init:function(k,l){if(k.value){h=k;i=l;}if(!window.opener)return;var m=false,n=null;try{m=window.opener.location.pathname.indexOf('/plugins/quote')!==-1;n=window.opener.document.getElementById('quotationtext');}catch(o){}if(m&&n&&n.value){k.value=n.value;var p=l.getElementsByClassName('share-quote-text-text');c('DOM').setContent(p[0],k.value);c('CSS').show(l);h=k;i=l;}}};f.exports=j;},null);
__d('FriendBrowserNameTypeahead',['Arbiter','CSS'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this._typeahead=i;}h.prototype.enable=function(){'use strict';var i=this._typeahead.getCore(),j=i.getValue();this._onResetSubscription=this._typeahead.subscribe('reset',function(){if(j!==i.getValue()){j=i.getValue();c('Arbiter').inform('friend-browser/name-change');}});this._onBlurSubscription=this._typeahead.subscribe('blur',function(){if(!i.selectedText){if(i.getValue()!=='')c('CSS').addClass(this._typeahead.core.inputWrap,'selected');if(j!==i.getValue()){j=i.getValue();c('Arbiter').inform('friend-browser/name-change');}}}.bind(this));};h.prototype.disable=function(){'use strict';this._onBlurSubscription.unsubscribe();this._onResetSubscription.unsubscribe();};f.exports=h;},null);
__d('WebFriendingRequests',['Event','DOM','Vector','MarauderLogger','Arbiter','debounceCore'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={init:function(i){this._pymkBox=i;this._lastPymkSeen=-1;this._recordPYMKImpression();c('Event').listen(window,'scroll',c('debounceCore')(this._recordPYMKImpression.bind(this),100));c('Event').listen(window,'resize',c('debounceCore')(this._recordPYMKImpression.bind(this),100));c('Arbiter').subscribe('pymk-x-out',this._handleXout.bind(this));},_recordPYMKImpression:function(){var i=c('DOM').scry(this._pymkBox,'li.friendBrowserListUnit'),j=c('Vector').getViewportDimensions().y,k=i.length-1;while(k>this._lastPymkSeen){var l=c('Vector').getElementPosition(i[k],'viewport').y;if(l>0&&l+c('Vector').getElementDimensions(i[k]).y<=j)break;k-=1;}var m=k;while(k>this._lastPymkSeen){var n=c('DOM').find(i[k],'input.friendBrowserID'),o=parseInt(n.value,10),p={pymk_id:o,pymk_location:'friends_center'};c('MarauderLogger').log('regular_pymk_imp',undefined,p);k-=1;}this._lastPymkSeen=Math.max(this._lastPymkSeen,m);},_handleXout:function(){this._lastPymkSeen-=1;this._recordPYMKImpression();}};f.exports=h;},null);
__d('EchoDataSource',['ArbiterMixin','emptyFunction','SearchableEntry','mixin'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;function j(){'use strict';i.constructor.call(this);}j.prototype.query=function(k,l,m,n){'use strict';var o=k?[{uid:k,text:k}]:[];this.inform('respond',{value:k,results:o,isAsync:false});};j.prototype.search=function(k,l){'use strict';if(!k)return;var m=new (c('SearchableEntry'))({uniqueID:k?k:'null',title:k});l([m],k);};Object.assign(j.prototype,{events:['respond'],bootstrap:c('emptyFunction'),init:c('emptyFunction')});f.exports=j;},null);
__d('PlacesDataSource',['DataSource'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('DataSource'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,k);this._origBootstrapEndpoint=this.bootstrapEndpoint;}j.prototype.shouldFetchMoreResults=function(k){'use strict';if(this.queryData.new_js_ranking){return true;}else return i.shouldFetchMoreResults.call(this,k);};j.prototype.mergeUids=function(k,l,m,n){'use strict';if(this.queryData.new_js_ranking){this._checkExtendedMatch(n,k);return this.deduplicateByKey(m.concat(l,k));}else return i.mergeUids.call(this,k,l,m,n);};j.prototype.resetBootstrapEndpoint=function(k){'use strict';this.setBootstrapEndpoint(this._origBootstrapEndpoint,k);return this;};j.prototype.setBootstrapEndpoint=function(k,l){'use strict';if(this.bootstrapEndpoint!==k){this.bootstrapEndpoint=k;if(this._bootstrapped||this._bootstrapping)l=true;}if(l)this.dirty().bootstrap();return this;};j.prototype.getQueryEndpoint=function(){'use strict';return this.queryEndpoint;};j.prototype.getBootstrapData=function(){'use strict';return this.bootstrapData;};f.exports=j;},null);
__d('PlaceUtils',['PlaceTagType'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={placesClose:function(i,j,k,l){i=i||0;j=j||0;k=k||0;l=l||0;return Math.abs(i-k)<1e-05&&Math.abs(j-l)<1e-05;},isNonSpecificPlace:function(i){return (i==c('PlaceTagType').CITY||i==c('PlaceTagType').STATE_PROVINCE||i==c('PlaceTagType').COUNTRY);}};f.exports=h;},null);
__d('PlacesTypeaheadCore',['Arbiter','CSS','Focus','Run','StickyPlaceholderInput','Style','TypeaheadCore'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('TypeaheadCore'));i=h&&h.prototype;j.prototype.init=function(k,l,m){'use strict';i.init.call(this,k,l,m);this.arbiterTokens=[c('Arbiter').subscribe('Places/PlaceCreationCancel'+this.callbackID,function(n,o){this.view.allowPlaceCreation=false;this.view.allowFreeformOption=true;this.view.reset();this.focusElement();}.bind(this))];c('Run').onLeave(function(){this.arbiterTokens.forEach(c('Arbiter').unsubscribe);}.bind(this));this._typeaheadID=m.id;this._citySet=false;this.data.subscribe('fetchComplete',this.update.bind(this));};j.prototype.initToggle=function(){'use strict';var k=this.root.parentNode,l=c('Style').get(k,'position')!='static'?k:this.root,m=this.view,n='PlacesTypeaheadFocused';this.subscribe('focus',function(){m.show();c('CSS').addClass(l,n);});this.subscribe('blur',function(){m.hide();c('CSS').removeClass(l,n);});};j.prototype.focusElement=function(){'use strict';c('Focus').set(this.element);this.value='';this.checkValue();};j.prototype.setValue=function(k){'use strict';i.setValue.call(this,k);c('StickyPlaceholderInput').update(this.element);};j.prototype.updateDataSource=function(k){'use strict';this.data.setQueryData({city_id:this._cityId,city_set:this._citySet});this.data.setBootstrapData({city_id:this._cityId});if(k){this.data.dirty();this.data.bootstrap();}};j.prototype.setCity=function(k,l){'use strict';this._citySet=l;if(this._cityId!==k){this._cityId=k;this.updateDataSource(l);}};j.prototype.update=function(k,l){'use strict';var m=l.response;if(!m)return;var n=m.getPayload();if(n.cityId)if(!this._citySet)this.setCity(n.cityId,false);};j.prototype.setLocation=function(k){'use strict';if(!k||!k.latitude||!k.longitude)return;this.data.setQueryData({latitude:k.latitude,longitude:k.longitude,want_checkin_places:true});this.data.setBootstrapData({latitude:k.latitude,longitude:k.longitude,want_checkin_places:true});this.data.resetBootstrapEndpoint(true);};function j(){'use strict';h.apply(this,arguments);}Object.assign(j.prototype,{resetOnKeyup:false});f.exports=j;},null);
__d('PlacesTypeaheadView',['fbt','Arbiter','CSS','Dialog','DOM','Parent','Run','Scroll','ScrollableArea','Style','TypeaheadView'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('TypeaheadView'));j=i&&i.prototype;k.prototype.init=function(){'use strict';this.content=c('DOM').find(this.element,'div.PlacesTypeaheadViewList');j.init.call(this);this.subscribe(['render','reset'],this.renderBorders.bind(this));this.arbiterTokens=[c('Arbiter').subscribe('Places/PlaceCreated'+this.callbackID,function(l,m){var n={text:m.name,rawtext:m.name,uid:m.fbid,city_id:m.city_id,city_name:m.city_name,city_page_id:m.city_page_id};this.inform('select',{index:-1,clicked:true,selected:n});this.inform('afterSelect');}.bind(this))];this.arbiterTokens.push(c('Arbiter').subscribe('Events/autoSuggestionSelected',function(l,m){this.inform('select',{index:-1,clicked:true,selected:{text:m.event_name,rawtext:m.event_name,uid:m.event_fbid}});this.inform('afterSelect');}.bind(this)));this.arbiterTokens.push(c('Arbiter').subscribe('Prompt/PrefillCheckin',function(l,m){this.inform('select',{index:-1,clicked:true,selected:m});this.inform('afterSelect');}.bind(this)));c('Run').onLeave(function(){this.arbiterTokens.forEach(c('Arbiter').unsubscribe);}.bind(this));};k.prototype.renderBorders=function(){'use strict';c('CSS').conditionClass(this.element,'PlacesTypeaheadViewPopulated',this.items.length);};k.prototype.show=function(){'use strict';j.show.call(this);if(!this.results||!this.results.length)c('Style').set(this.element,'height',0);};k.prototype.render=function(l,m,n){'use strict';m.forEach(function(r){r.value=l;});if(this.allowFreeformOption&&l&&(!m||m.length===0||m[m.length-1].type!='freeform')){var o=h._("Just use \"{custom_location}\"",[h.param('custom_location',l)]);m.push({uid:'0',rawtext:l,text:o,type:'freeform'});}if(this.allowPlaceCreation&&l&&(!m||m.length===0||m[m.length-1].type!='placecreate')){var p=h._("Add place \"{custom_location}\"",[h.param('custom_location',l)]);m.push({uid:'0',rawtext:l,text:p,type:'placecreate'});}j.render.call(this,l,m,n);this.element.style.visibility='hidden';if(this.visible&&this.results&&this.results.length)c('Style').set(this.element,'height','');var q=c('ScrollableArea').getInstance(this.content);q&&q.adjustGripper();this.inform('afterRender',m);this.element.style.visibility='';};k.prototype.select=function(l){'use strict';var m=this.index,n=this.results[m];if(n){if(n.type==='placecreate'){c('Dialog').bootstrap('/ajax/places/create/dialog.php',{name:n.rawtext,callback_id:this.callbackID});return;}if(n.type==='freeform')n.text=n.rawtext;j.select.call(this,l);}};k.prototype.next=function(){'use strict';j.next.call(this);this._scrollIntoView(this.selected);};k.prototype.prev=function(){'use strict';j.prev.call(this);this._scrollIntoView(this.selected);};k.prototype._scrollIntoView=function(l){'use strict';if(!c('Parent').byClass(l,'uiScrollableArea'))return;this.ignoreNextMouseover=true;var m=c('Parent').byClass(l,'uiScrollableAreaWrap'),n=l.offsetTop-m.offsetTop;if(n<c('Scroll').getTop(m)){c('Scroll').setTop(m,n);return;}var o=n+l.offsetHeight;if(o>c('Scroll').getTop(m)+m.offsetHeight)c('Scroll').setTop(m,o-m.offsetHeight);};k.prototype.mouseover=function(event){'use strict';this.ignoreNextMouseover||j.mouseover.call(this,event);this.ignoreNextMouseover=false;};k.prototype.highlight=function(l){'use strict';j.highlight.call(this,l,true);};function k(){'use strict';i.apply(this,arguments);}Object.assign(k.prototype,{ignoreNextMouseover:false});f.exports=k;},null);
__d("ComposerXComponents",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){"use strict";this.$ComposerXComponents1=i;}h.prototype.getComponents=function(){"use strict";return this.$ComposerXComponents1;};f.exports=h;},null);
__d('ExternalWebShareDialogCloseConfirmation',['Event','PlatformDialog','Run'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={init:function(i,j,k){this._cancelWasClicked=false;this._confirmOnClose=i&&!!k;this._confirmOnCancel=j&&!!k;c('Run').onBeforeUnload(function(){var l=this._shouldShowConfirm()?k:null;this._cancelWasClicked=false;return l;}.bind(this));},setCancelButton:function(i){c('Event').listen(i,'click',function(j){if(window.opener&&this._confirmOnCancel){this._cancelWasClicked=true;j.kill();window.close();}}.bind(this));},_shouldShowConfirm:function(){if(c('PlatformDialog').getInstance().hasBeenSubmitted())return false;if(this._cancelWasClicked)return this._confirmOnCancel;return this._confirmOnClose;}};f.exports=h;},null);
__d('DisablePlatformButton',['ge','CSS','Event'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=false,i={init:function(j){for(var k=0;k<j.length;k++){var l=c('ge')(j[k]);c('Event').listen(l,'click',function(m){if(h){return false;}else{h=true;for(var n=0;n<j.length;n++)c('CSS').addClass(j[n],'uiButtonDisabled');}});}}};f.exports=i;},null);
__d('HubsTypeaheadView',['fbt','Arbiter','AsyncRequest','ContextualTypeaheadView','CSS','DOM','Event','$'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('ContextualTypeaheadView'));j=i&&i.prototype;function k(l,m){'use strict';j.constructor.call(this,l,m);if(m.allowDedupe)this.subscribe('select',this.selectDuplicates.bind(this));}k.prototype.hide=function(){'use strict';return this.canHide?j.hide.call(this):null;};k.prototype.reset=function(){'use strict';return this.canHide?j.reset.call(this):null;};k.prototype._createFreeFormNode=function(l){'use strict';var m=l;if(this.showCreatePrompt){m=h._("Add \"{partial_name}\"",[h.param('partial_name',l)]);}else if(this.showAltCreatePrompt)m=h._("Create \"{partial_name}\"",[h.param('partial_name',l)]);return {text:m,orig_text:l,type:'addnew calltoaction',uid:'0'};};k.prototype.validateQuery=function(l){'use strict';return this.minQueryLength?l.length>=this.minQueryLength:true;};k.prototype.render=function(l,m,n){'use strict';var o=[],p=Math.max(1,Math.floor(m.length/10));for(var q=p;q<m.length;q++)if(!!m[q].already_added){o.push(m[q]);m.splice(q,1);q--;}m=m.concat(o);if(this.alwaysRender&&l!=='')if(this.allowFreeformEntry){if(this.validateQuery(l))m.push(this._createFreeFormNode(l));}else{var r=l.toLowerCase().trim(),s=false;for(var t=0;t<m.length;t++)if(r==m[t].text.toLowerCase().trim()){s=true;break;}if(!s&&this.validateQuery(l))m.push(this._createFreeFormNode(l));}var u=m.length;for(var v=0;v<m.length;v++)if(m[v].uid==false)u--;if(this.allowDedupe&&u>1&&l.length>=3)m.push({text:h._("Mark Duplicate Results"),type:'dupelink calltoaction'});return j.render.call(this,l,m,n);};k.prototype.selectDuplicates=function(l,m){'use strict';if(!m.selected.type.match('dupelink'))return;var n=[];for(var o=0;o<this.results.length;o++){if(this.results[o].uid==false)continue;n.push(this.results[o].uid);}var p=c('Arbiter').subscribe('typeahead/'+this.collectionID+'/confirmDupes',function(q,r){var s=this.results.map(function(v){return v.uid;});for(var t=0;t<r.dupe_ids.length;t++){var u=s.indexOf(r.dupe_ids[t]);c('CSS').hide(this.items[u]);}this.hasHiddenDupes=r.dupe_ids.length>0;}.bind(this));c('Arbiter').subscribe('typeahead/'+this.collectionID+'/finishDupes',function(q,r){c('Arbiter').unsubscribe(p);this.canHide=true;this.hasHiddenDupes&&c('CSS').hide(c('DOM').find(this.content,'.dupelink'));this.hasHiddenDupes=false;}.bind(this));this.canHide=false;new (c('AsyncRequest'))('/ajax/typeahead/quality/duplicates').setData({ids:n,surface:c('$')('collections_surface').value,collection_id:this.collectionID}).send();};k.initFreeformBoxes=function(){'use strict';var l=c('DOM').scry(document,'div.fbAddFormDialog')[0];if(!l)return;var m=c('DOM').find(l,'form');c('Event').listen(m,'submit',function(){c('DOM').scry(m,'div.fbFreeformInput').forEach(function(n){if(c('DOM').find(n,'input.inputtext').value)c('CSS').addClass(n.firstChild,'selected');});});};Object.assign(k.prototype,{canHide:true,hasHiddenDupes:false});f.exports=k;},null);
__d('ClearableTypeahead',['Event'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={resetOnCloseButtonClick:function(i,j){c('Event').listen(j,'click',function(){var k=i.getCore();k.getElement().focus();k.reset();});}};f.exports=h;},null);
__d('TypeaheadSetPhotoOnSelect',['CSS','DOM','Event'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this._typeahead=i;}h.prototype.enable=function(){'use strict';var i=c('DOM').scry(this._typeahead.getElement(),'.photo')[0];if(i){if(!c('DOM').isNodeOfType(i,'img')){var j=c('DOM').create('img',{className:i.className});c('DOM').replace(i,j);i=j;}var k=c('CSS').hide.bind(null,i),l=c('CSS').show.bind(null,i);this._eventListener=c('Event').listen(i,{load:l,error:k,abort:k});this._subscription=this._typeahead.subscribe('select',function(m,n){var o=n.selected.photo||this._typeahead.view.fallbackPhoto;o?i.setAttribute('src',o):k();}.bind(this));}};h.prototype.disable=function(){'use strict';this._eventListener.remove();this._eventListener=null;this._typeahead.unsubscribe(this._subscription);this._subscription=null;};Object.assign(h.prototype,{_eventListener:null,_subscription:null});f.exports=h;},null);
__d('legacy:SetPhotoOnSelectTypeaheadBehavior',['TypeaheadSetPhotoOnSelect'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();if(!b.TypeaheadBehaviors)b.TypeaheadBehaviors={};b.TypeaheadBehaviors.setPhotoOnSelect=function(h){h.enableBehavior(c('TypeaheadSetPhotoOnSelect'));};},3);
__d('TypeaheadShowBootstrapOnFocus',['TypeaheadShowResultsOnFocus'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('TypeaheadShowResultsOnFocus'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,k);this._uids=[];}j.prototype.getMaxBootstrapEntries=function(){'use strict';return 3;};j.prototype.cacheUids=function(){'use strict';return true;};j.prototype.firstFetch=function(k,l,m){'use strict';if(!k.bootstrapping){if(this.cacheUids())this._uids=this.getUidsFromData(m);this.respond(l,m);}};j.prototype.respond=function(k,l){'use strict';if(!k.getValue()){k.setValue('');var m=this.cacheUids()?this._uids:this.getUidsFromData(l),n=l.buildUids(' ',m);l.respond('',n);}};j.prototype.getUidsFromData=function(k){'use strict';var l=k.getAllEntries(),m=[];for(var n in l)if(l[n].bootstrapped)m.push({uid:l[n].uid,index:l[n].index});m.sort(function(o,p){return o.index-p.index;});if(this.getMaxBootstrapEntries())m=m.slice(0,this.getMaxBootstrapEntries());return m.map(function(o){return o.uid;});};f.exports=j;},null);
__d('legacy:xd-arbiter',['XdArbiter'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c('XdArbiter');},3);