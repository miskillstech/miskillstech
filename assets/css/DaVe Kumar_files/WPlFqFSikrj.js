/*!CK:1161086858!*//*1452646541,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["q\/e1t"]); }

__d('PageStars',['Event','Locale','Style'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=5;function i(j,k,l,m,n,o,p,q){this.myRating=n;this.avgRating=m;this.avgStars=k;this.myStars=l;this.margin=q;this.width=o;this.height=p;for(var r=0;r<j.length;r++){var s=j[r],t=r+1;for(var u=0;u<s.length;u++){if(!s[u])continue;c('Event').listen(s[u],'mouseenter',this._hover.bind(this,t));c('Event').listen(s[u],'mouseleave',this._mouseout.bind(this,t));c('Event').listen(s[u],'click',this._click.bind(this,t));}}}Object.assign(i.prototype,{onClick:function(j){this.callback=j;},_updateUI:function(){if(this.hovered||this.myRating){this.avgStars&&this._setClip(this.avgStars,0);this.myStars&&this._setClip(this.myStars,this.hovered||this.myRating);}else{this.myStars&&this._setClip(this.myStars,0);this.avgStars&&this._setClip(this.avgStars,this.avgRating||0);}},_setClip:function(j,k){var l=Math.round(k*this.width+Math.floor(k)*this.margin),m=0;if(c('Locale').isRTL()){m=Math.round((h-k)*this.width+Math.floor(h-k)*this.margin);l+=m;}var n='rect(0px, '+l+'px, '+this.height+'px, '+m+'px)';c('Style').set(j,'clip',n);},_click:function(j){this.myRating=j;this._updateUI();return this.callback&&this.callback(j);},_hover:function(j){this.hovered=j;this._updateUI();},_mouseout:function(j){if(this.hovered===j){this.hovered=null;this._updateUI();}},setAverageRating:function(j){this.avgRating=j;this._updateUI();},setMyRating:function(j){this.myRating=j;this._updateUI();}});f.exports=i;},null);
__d('PlaceStarSurvey',['AsyncRequest'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={};Object.assign(h,{register:function(i,j,k){i.onClick(function(l){new (c('AsyncRequest'))(k[l]).setMethod('POST').setRelativeTo(j).send();});}});f.exports=h;},null);