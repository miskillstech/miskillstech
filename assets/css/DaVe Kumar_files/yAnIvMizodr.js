/*!CK:3846786011!*//*1457974112,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["Lqbzj"]); }

__d('AdsCanvasAPISetup',['AdsCanvasConfig','GraphAPI','WebApiApplication'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=false,i={setupGraph:function(){if(h)return;c('WebApiApplication').init(c('AdsCanvasConfig').access_token,c('AdsCanvasConfig').client_id);h=true;}};f.exports=i;},null);
/**
 * @providesModule color-picker-slider
 * @preserve-header
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2014 Nick Williams
 * Copyright (c) 2014 George Czabania
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * @fullSyntaxTransform
 */__d("color-picker-slider",["cx","React","ReactDOM","ReactComponentWithPureRenderMixin","color-picker-draggable-mixin"],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c("React").createClass({displayName:"Slider",mixins:[c("color-picker-draggable-mixin"),c("ReactComponentWithPureRenderMixin")],propTypes:{vertical:c("React").PropTypes.bool.isRequired,value:c("React").PropTypes.number.isRequired},getDefaultProps:function(){return {value:0};},updatePosition:function(j,k){var l=c("ReactDOM").findDOMNode(this).getBoundingClientRect(),m;if(this.props.vertical){m=(l.bottom-k)/l.height;}else m=(j-l.left)/l.width;m=this.getScaledValue(m);this.props.onChange(m);},getCss:function(){var j={},k=this.props.vertical?"bottom":"left";j[k]=this.getPercentageValue(this.props.value);return j;},render:function(){var j="slider"+(this.props.vertical?" "+"vertical":"")+(!this.props.vertical?" "+"horizontal":"");return (c("React").createElement("div",{className:"_4_2w"+" "+j,onMouseDown:this.startUpdates,onTouchStart:this.startUpdates},c("React").createElement("div",{className:"track"}),c("React").createElement("div",{className:"pointer",style:this.getCss()})));}});f.exports=i;},null);
__d('RichMediaEditorButtonElementEditPanel.react',['cx','fbt','React','RichMediaButtonElement','RichMediaEditorColorInput.react','RichMediaEditorTextEditor.react','RichMediaEditorUtil','RichMediaRichFormatText','Tooltip','XUIRadioList.react','XUITextInput.react'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('XUIRadioList.react').Item,k=c('React').PropTypes,l=c('React').createClass({displayName:'RichMediaEditorButtonElementEditPanel',propTypes:{buttonElement:k.instanceOf(c('RichMediaButtonElement')).isRequired,disabled:k.bool,disabledReason:k.any,hasFixToBottomButton:k.bool.isRequired,onEditDocumentElement:k.func.isRequired},render:function(){var m=c('React').createElement(c('XUITextInput.react'),{className:"_48pl",disabled:this.props.disabled,height:'tall',placeholder:'http://',value:this.props.buttonElement.link,onBlur:this._onBlurURLInput,onChange:this._onChangeURL}),n=c('React').createElement(c('RichMediaEditorColorInput.react'),{color:this.props.buttonElement.buttonColor,disabled:this.props.disabled,onChange:this._onChangeButtonColor}),o=this._renderOptionInput(this.props.buttonElement.isFilled?'filled':'border',[{value:'border',text:i._("Border (default)")},{value:'filled',text:i._("Fill")}],this._onChangeButtonStyle,this.props.disabled,this.props.disabledReason?this.props.disabledReason:null),p=this._renderOptionInput(this.props.buttonElement.isFixedToBottom?'fixToBottom':'normal',[{value:'normal',text:i._("In line (default)")},{value:'fixToBottom',text:i._("Fixed to Bottom")}],this._onChangePosition,this.props.disabled||this.props.hasFixToBottomButton&&!this.props.buttonElement.isFixedToBottom,this.props.disabledReason?this.props.disabledReason:i._("Only one button can be fixed to bottom"));return (c('React').createElement('div',{className:"_48pm"},c('React').createElement('div',{className:"_48po"},c('React').createElement(c('RichMediaEditorTextEditor.react'),{disableReturnHandler:true,disabled:this.props.disabled,hideTextAlignment:true,oneLine:true,richFormatText:this.props.buttonElement.richFormatText,onChange:this._onChangeText})),this._renderOptionRow(i._("Destination URL (required)"),m),this._renderOptionRow(i._("Button color"),n),this._renderOptionRow(i._("Button style"),o),this._renderOptionRow(i._("Button position"),p)));},_renderOptionRow:function(m,n){return (c('React').createElement('div',{className:"_48pg"},c('React').createElement('div',{className:"_48pj"},m),c('React').createElement('div',{className:"_48pk"},n)));},_renderOptionInput:function(m,n,o,p,q){return (c('React').createElement(c('XUIRadioList.react'),babelHelpers['extends']({selectedValue:m,onValueChange:p?null:o},c('Tooltip').propsFor(p?q:null)),n.map(function(r){var s=r.value===m?'/images/ads/rich_media/check.png':'/images/ads/rich_media/uncheck.png';return (c('React').createElement(j,{className:"_3y0f",key:r.value,value:r.value},c('React').createElement('div',{className:"_3y0g"},c('React').createElement('img',{height:16,src:s,width:16})),c('React').createElement('div',{className:"_3y0p"+(!p?' '+"_3y0q":'')+(p?' '+"_1l_q":'')},c('React').createElement('span',null,r.text))));})));},_onChangeText:function(m){this.props.onEditDocumentElement(this.props.buttonElement.set('richFormatText',m));},_onChangeURL:function(event){this.props.onEditDocumentElement(this.props.buttonElement.set('link',event.target.value));},_onBlurURLInput:function(event){if(c('RichMediaEditorUtil').isValidURL(event.target.value)){var m=c('RichMediaEditorUtil').normalizeURL(event.target.value);this.props.onEditDocumentElement(this.props.buttonElement.set('link',m));}},_onChangeButtonColor:function(m){this.props.onEditDocumentElement(this.props.buttonElement.set('buttonColor',m));},_onChangeButtonStyle:function(m){this.props.onEditDocumentElement(this.props.buttonElement.set('isFilled',m==='filled'));},_onChangePosition:function(m){this.props.onEditDocumentElement(this.props.buttonElement.set('isFixedToBottom',m==='fixToBottom'));}});f.exports=l;},null);
__d('RichMediaEditorCarouselItemEditPanel.react',['cx','fbt','React','RichMediaCarouselItem','RichMediaEditorCarouselPhotoUploader.react','RichMediaEditorUtil','Tooltip','XUITextInput.react','FbtResult'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'RichMediaEditorCarouselItemEditPanel',propTypes:{carouselItem:j.instanceOf(c('RichMediaCarouselItem')).isRequired,disabled:j.bool,itemIndex:j.number.isRequired,layout:j.string.isRequired,pageID:j.string.isRequired,onEditCarouselItem:j.func.isRequired,onPhotoUpload:j.func.isRequired},render:function(){var l=this.props.carouselItem;return (c('React').createElement('div',{className:"_2pdb"},c('React').createElement(c('RichMediaEditorCarouselPhotoUploader.react'),{disabled:this.props.disabled,pageID:this.props.pageID,previewPhoto:l.photo,uploadStatus:l.uploadStatus,onPhotoUpload:this.props.onPhotoUpload}),this._renderTextFieldInput(i._("Destination URL"),'http://',l.link,this._onBlurURLInput,this._onChangeLink,this.props.layout==='fit_to_height'||!!this.props.disabled,i._("Link target is not available when layout is fit to height"))));},_renderTextFieldInput:function(l,m,n,o,p,q,r){return (c('React').createElement('div',babelHelpers['extends']({className:"_2rv7"+(q?' '+"_4b9l":'')},c('Tooltip').propsFor(q?r:null)),c('React').createElement('div',{className:"_2rv8"},l),c('React').createElement(c('XUITextInput.react'),{className:"_2rv9",disabled:q,height:'tall',key:this.props.itemIndex,placeholder:m,value:n,onBlur:o,onChange:p})));},_onBlurURLInput:function(event){if(c('RichMediaEditorUtil').isValidURL(event.target.value)){var l=c('RichMediaEditorUtil').normalizeURL(event.target.value);this.props.onEditCarouselItem(this.props.carouselItem.set('link',l));}},_onChangeLink:function(event){this.props.onEditCarouselItem(this.props.carouselItem.set('link',event.target.value));}});f.exports=k;},null);
__d('RichMediaEditorTopNavigator.react',['cx','LeftRight.react','React','RichMediaEditorToolbar.react'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'RichMediaEditorTopNavigator',propTypes:{createPostEnabled:i.bool,documentElements:i.arrayOf(i.object).isRequired,documentHasError:i.bool.isRequired,documentName:i.string.isRequired,documentTheme:i.string.isRequired,documentURL:i.string.isRequired,editState:i.any.isRequired,isPublished:i.bool.isRequired,saveFailed:i.bool.isRequired,onCreatePost:i.func,onPublishDocument:i.func.isRequired,onSaveDocument:i.func.isRequired,onSetDocumentName:i.func.isRequired,onShownDocumentURLDialog:i.func.isRequired},getInitialState:function(){return {documentNameInputFocused:false};},render:function(){return (c('React').createElement('div',{className:"_1wv1"},c('React').createElement(c('LeftRight.react'),null,c('React').createElement('div',{className:"_26x8"},c('React').createElement('input',{disabled:this.props.isPublished,ref:'input',type:'text',value:this.props.documentName,onBlur:this._onDocumentNameInputBlur,onChange:this._onSetDocumentName,onClick:this._onClickDocumentName})),c('React').createElement(c('RichMediaEditorToolbar.react'),this.props))));},_onSetDocumentName:function(event){this.props.onSetDocumentName(event.target.value);},_onDocumentNameInputBlur:function(){this.setState({documentNameInputFocused:false});},_onClickDocumentName:function(event){if(this.state.documentNameInputFocused)return;event.target.select();this.setState({documentNameInputFocused:true});}});f.exports=j;},null);
__d('AdsAbstractCurrencyInput.react',['fbt','AdsCurrencyFormatter','Keys','React','NumberFormatConfig','escapeRegex'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('NumberFormatConfig').decimalSeparator,j=c('NumberFormatConfig').numberDelimiter,k=c('React').PropTypes,l=new RegExp('^\\D*['+c('escapeRegex')(j)+'\\d]*'+c('escapeRegex')(i)+'?\\d{0,8}\\D*$'),m=500,n=c('React').createClass({displayName:'AdsAbstractCurrencyInput',propTypes:{currency:k.string.isRequired,value:k.number,withISO:k.bool,withNumberDelimiters:k.bool,nonnegative:k.bool,invalidInputIsNull:k.bool,onDataUpdate:k.func.isRequired,onUnderlyingValueChange:k.func,onKeyUp:k.func,eventType:k.oneOf(['change','blur']),textInputClass:k.func.isRequired,onMultiplePaste:k.func},componentWillReceiveProps:function(o){if(this.props.xuiError!==o.xuiError)this.setState({xuiError:o.xuiError});},getDefaultProps:function(){return {eventType:'blur',withNumberDelimiters:false};},getInitialState:function(){return {dirtyValue:null,pasteTime:null,xuiError:this.props.xuiError};},_getValue:function(){var o=this.state.dirtyValue;if(o===null){o=this.props.value;if(o!=null){o=c('AdsCurrencyFormatter').formatCurrencyFullFormat(this.props.currency,o,this.props.withISO,this.props.withNumberDelimiters);}else o='';}return o;},render:function(){var o=this._getValue(),p=this.props.textInputClass;return (c('React').createElement(p,babelHelpers['extends']({},this.props,{onChange:this._onChange,onBlur:this._onBlur,onKeyUp:this._onKeyUp,onPaste:this._onPaste,ref:'textInput',value:o,xuiError:this.state.xuiError})));},focusInput:function(){this.refs.textInput.focusInput();},updateValue:function(event){var o=this._parseCurrency(event.target.value),p=this._getXuiError(o);this.props.onDataUpdate(o);this.setState({dirtyValue:null,xuiError:p});},_isValidNumber:function(o){if(o==null)return false;return l.test(o);},_getXuiError:function(o){var p=this.props.xuiError;if(!this._isValidNumber(o))p=h._("Your budget must be a valid number.");return p;},_onChange:function(event){var o=event.target.value,p=this._getXuiError(o);this.setState({dirtyValue:o,xuiError:p});if(this.props.eventType==='change')this.props.onDataUpdate(this._parseCurrency(o));this.props.onUnderlyingValueChange&&this.props.onUnderlyingValueChange(this._parseCurrency(o),o);},_onBlur:function(event){if(this.state.dirtyValue!==null)this.updateValue(event);this.props.onBlur&&this.props.onBlur(event);},_parseCurrency:function(o){var p=c('AdsCurrencyFormatter').parseOptionalCurrency(this.props.currency,o);if(!this.props.invalidInputIsNull)p=p||0;if(p&&this.props.nonnegative)p=Math.abs(p);return p;},_onPaste:function(event){if(!this.props.onMultiplePaste)return;if(this.state.pasteTime===null){this.setState({pasteTime:Date.now()});}else{if(Date.now()-this.state.pasteTime<m)this.props.onMultiplePaste();this.setState({pasteTime:null});}},_onKeyUp:function(event){if(event.keyCode===c('Keys').RETURN)this.updateValue(event);this.props.onKeyUp&&this.props.onKeyUp(event);}});f.exports=n;},null);
__d('AdsCurrencyInput.react',['AdsAbstractCurrencyInput.react','React','BUITextInput.react','ifRequired'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'AdsCurrencyInput',propTypes:{currency:h.string.isRequired,value:h.number,withISO:h.bool,nonnegative:h.bool,invalidInputIsNull:h.bool,onDataUpdate:h.func.isRequired,onUnderlyingValueChange:h.func,eventType:h.oneOf(['change','blur']),onMultiplePaste:h.func},render:function(){return (c('React').createElement(c('AdsAbstractCurrencyInput.react'),babelHelpers['extends']({},this.props,{ref:'input',textInputClass:c('BUITextInput.react'),onUnderlyingValueChange:this.onUnderlyingValueChange})));},focusInput:function(){this.refs.input.focusInput();},onUnderlyingValueChange:function(j,k){c('ifRequired')('AdsCMLoggerInternal',function(l){l.log('ADS_CM_CURRENCY_INPUT_CHANGE',null,{old_value:k,new_value:j});});this.props.onUnderlyingValueChange&&this.props.onUnderlyingValueChange(j,k);}});f.exports=i;},null);
__d('AdsLabeledField.react',['cx','fbt','AdsHelpLink.react','React','XUIText.react','joinClasses'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'AdsLabeledField',propTypes:{className:j.string,label:j.oneOfType([j.string.isRequired,j.node.isRequired]),helpText:j.node,helpLinger:j.number,htmlFor:j.string,labelSize:j.oneOf(['small','medium']),optional:j.bool,optionalText:j.node},getDefaultProps:function(){return {label:null,labelSize:'small',optionalText:i._("(optional)")};},render:function(){return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_3bvz")}),this._renderLabel(),this._renderHelpIcon(),c('React').createElement('div',{className:"_3bv-"},this.props.children)));},_renderLabel:function(){var l=null;if(this.props.optional)l=c('React').createElement(c('XUIText.react'),{weight:'normal'},this.props.optionalText);return (c('React').createElement('label',{className:"_4el4"+(this.props.labelSize==='small'?' '+"_3qwj":'')+(this.props.labelSize==='medium'?' '+"_3qwk":'')+(!this.props.htmlFor?' '+"_3hy-":''),htmlFor:this.props.htmlFor},i._("{Part of label for an ads field must have a value.} {Part of label for a field that doesn't need a value}",[i.param('Part of label for an ads field must have a value.',this.props.label),i.param('Part of label for a field that doesn\'t need a value',l)])));},_renderHelpIcon:function(){var l=this.props.helpText,m=l?c('React').createElement(c('AdsHelpLink.react'),{imgHover:this.props.imgHover,imgNormal:this.props.imgNormal,linger:this.props.helpLinger,width:300},l):null;return m;}});f.exports=k;},null);
__d('AdsBusinessDataManager',['fbt','AdsBaseDataManager','AdsBusinessActions','AdsGraphAPI','CurrentUser','sprintf'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('AdsBaseDataManager'));j=i&&i.prototype;k.prototype.loadAll=function(l){l.forEach(function(m){return this.load(m);}.bind(this));};k.prototype.load=function(l){c('AdsGraphAPI').getWithGeneralMigration().object('business',l).batched().get({fields:['id','name',c('sprintf')('userpermissions.fields(role).user(%s)',c('CurrentUser').getAccountID())]}).done(this.__handleSuccess.bind(this,['load'],l,null),this.__handleError.bind(this,['load'],l,null));};k.prototype.__onBatchLoaded=function(l){c('AdsBusinessActions').batchLoaded(l);};k.prototype.__onBatchLoadError=function(l){c('AdsBusinessActions').batchLoadError(l);};k.prototype.__getObjectTypeLabel=function(){return h._("Business");};function k(){i.apply(this,arguments);}f.exports=new k();},null);
__d('PureRenderComponent.atlas',['shallowCompare'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){var j,k;j=babelHelpers.inherits(l,i);k=j&&j.prototype;l.displayName=i.displayName||i.name;l.prototype.shouldComponentUpdate=function(m,n){'use strict';return c('shallowCompare')(this,m,n);};function l(){'use strict';j.apply(this,arguments);}return l;}f.exports={create:h};},null);
__d('Typography.atlas',['cx'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=['xs','s','m','l','xl'],j=['regular','bold'],k=['blue','dark','green','light','medium','red','white'],l={Colors:k,Sizes:i,Weights:j,getClassName:function(m,n,o){return "_4vo9"+(m==='l'?' '+"_4vod":'')+(m==='xl'?' '+"_4voe":'')+(n==='bold'?' '+"_4voh":'')+(m==='m'?' '+"_4voc":'')+(o==='light'?' '+"_4von":'')+(o==='medium'?' '+"_4voo":'')+(o==='dark'?' '+"_4vop":'')+(o==='red'?' '+"_4voq":'')+(o==='blue'?' '+"_4vor":'')+(m==='s'?' '+"_4vob":'')+(o==='white'?' '+"_4vos":'')+(m==='xs'?' '+"_4voa":'')+(o==='green'?' '+"_43jm":'')+(n==='regular'?' '+"_4vom":'');}};f.exports=l;},null);
__d('Text.atlas',['PureRenderComponent.atlas','React','Typography.atlas','joinClasses'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k={display:'inline'};h=babelHelpers.inherits(l,c('React').Component);i=h&&h.prototype;l.defaultProps=k;l.propTypes={display:j.oneOf(['inline','block']).isRequired,color:j.oneOf(c('Typography.atlas').Colors),size:j.oneOf(c('Typography.atlas').Sizes),weight:j.oneOf(c('Typography.atlas').Weights)};l.prototype.render=function(){var m=this.props,n=m.color,o=m.size,p=m.weight,q=babelHelpers.objectWithoutProperties(m,['color','size','weight']),r=c('joinClasses')(this.props.className,c('Typography.atlas').getClassName(o,p,n));if(this.props.display==='block')return (c('React').createElement('div',babelHelpers['extends']({},q,{className:r}),this.props.children));return (c('React').createElement('span',babelHelpers['extends']({},q,{className:r}),this.props.children));};function l(){h.apply(this,arguments);}f.exports=c('PureRenderComponent.atlas').create(l);},null);
__d('FBNumberInput.react',['Input','React','intlNumUtils','joinClasses'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'FBNumberInput',propTypes:{nonnegative:h.bool,onValueChange:h.func.isRequired,value:h.number,defaultValue:h.number,minValue:h.number,maxValue:h.number,placeholder:h.string,formatNumber:h.bool,onlyIntegers:h.bool},render:function(){var j=this.props,k=j.value,l=j.className,m=babelHelpers.objectWithoutProperties(j,['value','className']);if(k)k=this._formatValue(k);return (c('React').createElement('input',babelHelpers['extends']({},m,{className:c('joinClasses')(l,'inputtext'),type:'text',defaultValue:k,onBlur:this._onBlur})));},_formatValue:function(j){return this.props.formatNumber?c('intlNumUtils').formatNumberWithThousandDelimiters(j,0):''+j;},_parseValue:function(j){var k=c('intlNumUtils').parseNumber(j);if(this.props.onlyIntegers)k=Math.trunc(k);return k;},_onBlur:function(event){var j=this._parseValue(c('Input').getValue(event.target)),k;if(j!==null){j=this.props.nonnegative?Math.abs(j):j;if(this.props.minValue!=null&&j<this.props.minValue){j=this.props.minValue;}else if(this.props.maxValue!=null&&j>this.props.maxValue)j=this.props.maxValue;k=this._formatValue(j);}else if(this.props.defaultValue!=null){j=this.props.defaultValue;k=this._formatValue(j);}else k='';c('Input').setValue(event.target,k);this.props.onValueChange(j);}});f.exports=i;},null);
__d('SingleSelectorBase',['csx','cx','invariant','ArbiterMixin','Alignment','BehaviorsMixin','Button','CSS','DOM','DOMQuery','Event','Layer','Locale','Rect','ParameterizedPopover','PopoverMenu','Scroll','SelectableMenuUtils','Style','getOverlayZIndex','mixin','throttle'],function a(b,c,d,e,f,g,h,i,j){var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('Alignment').Anchor,n=c('Locale').isRTL()?m.RIGHT:m.LEFT,o=16;k=babelHelpers.inherits(p,c('mixin')(c('ArbiterMixin'),c('BehaviorsMixin')));l=k&&k.prototype;function p(r,s,t,u){'use strict';l.constructor.call(this);this.$SingleSelectorBase1=r;this.$SingleSelectorBase2=null;this.$SingleSelectorBase3=c('DOM').create('div',{});this.$SingleSelectorBase4=new (c('Layer'))({classNames:["_5xew"]},this.$SingleSelectorBase3);this.$SingleSelectorBase5=new (c('ParameterizedPopover'))(r.parentNode,r,[],babelHelpers['extends']({},t,{layer:this.$SingleSelectorBase4}));this.$SingleSelectorBase5.subscribe('show',this.$SingleSelectorBase6.bind(this));this.$SingleSelectorBase5.subscribe('hide',this.$SingleSelectorBase7.bind(this));this.$SingleSelectorBase8=new (c('PopoverMenu'))(this.$SingleSelectorBase5,r,s,[]);this.setMenu(s);if(u&&u.behaviors)this.enableBehaviors(u.behaviors);}p.prototype.$SingleSelectorBase6=function(){'use strict';this.$SingleSelectorBase9();this.$SingleSelectorBase10();c('CSS').conditionClass(this.$SingleSelectorBase4.getRoot(),"_5xex",this.$SingleSelectorBase11());c('Style').set(this.$SingleSelectorBase4.getRoot(),'min-width',this.$SingleSelectorBase1.offsetWidth+o+'px');var r=c('DOM').scry(this.$SingleSelectorBase3,'div.uiScrollableAreaWrap')[0];if(r){var s=c('Alignment').measure(new m(this.$SingleSelectorBase12(),n,m.MIDDLE),new m(this.$SingleSelectorBase2.getRoot(),n,m.MIDDLE));c('Scroll').setTop(r,c('Scroll').getTop(r)-s.y);}this.align();this.getSelectedItem().focus();if(!this.$SingleSelectorBase13)this.$SingleSelectorBase13=c('Event').listen(window,'resize',c('throttle')(this.align.bind(this)));this.inform('show');};p.prototype.$SingleSelectorBase7=function(){'use strict';if(this.$SingleSelectorBase13){this.$SingleSelectorBase13.remove();this.$SingleSelectorBase13=null;}this.inform('hide');};p.prototype.$SingleSelectorBase14=function(r,s){'use strict';this.$SingleSelectorBase15=null;if(!this.$SingleSelectorBase16)this.inform('change',s);};p.prototype.isShown=function(){'use strict';return this.$SingleSelectorBase5.isShown();};p.prototype.setValue=function(r){'use strict';if(this.isShown()){this.$SingleSelectorBase17(r,false);}else{this.$SingleSelectorBase18=r;this.$SingleSelectorBase19=false;}};p.prototype.setValueWithoutChange=function(r){'use strict';if(this.isShown()){this.$SingleSelectorBase17(r,true);}else{this.$SingleSelectorBase18=r;this.$SingleSelectorBase19=true;}};p.prototype.$SingleSelectorBase10=function(){'use strict';if(this.$SingleSelectorBase18){this.$SingleSelectorBase17(this.$SingleSelectorBase18,this.$SingleSelectorBase19);this.$SingleSelectorBase18=null;}};p.prototype.$SingleSelectorBase17=function(r,s){'use strict';this.$SingleSelectorBase16=s;this.$SingleSelectorBase2.setValue(r);this.$SingleSelectorBase16=null;};p.prototype.getValue=function(){'use strict';return this.getSelectedItem().getValue();};p.prototype.getLayer=function(){'use strict';return this.$SingleSelectorBase4;};p.prototype.getButton=function(){'use strict';return this.$SingleSelectorBase1;};p.prototype.setMenu=function(r){'use strict';if(this.isShown()){this.$SingleSelectorBase20(r);}else this.$SingleSelectorBase21=r;};p.prototype.$SingleSelectorBase9=function(){'use strict';if(this.$SingleSelectorBase21){this.$SingleSelectorBase20(this.$SingleSelectorBase21);this.$SingleSelectorBase21=null;}};p.prototype.$SingleSelectorBase20=function(r){'use strict';if(r!==this.$SingleSelectorBase2){this.$SingleSelectorBase2=r;if(this.$SingleSelectorBase22)this.$SingleSelectorBase22.unsubscribe();this.$SingleSelectorBase22=this.$SingleSelectorBase2.subscribe('change',this.$SingleSelectorBase14.bind(this));c('DOM').setContent(this.$SingleSelectorBase3,r.getRoot());this.$SingleSelectorBase8.setMenu(r);this.$SingleSelectorBase15=null;}};p.prototype.getMenu=function(){'use strict';return this.$SingleSelectorBase21||this.$SingleSelectorBase2;};p.prototype.enable=function(){'use strict';c('Button').setEnabled(this.$SingleSelectorBase1,true);this.$SingleSelectorBase5.enable();};p.prototype.disable=function(){'use strict';c('Button').setEnabled(this.$SingleSelectorBase1,false);this.$SingleSelectorBase5.disable();};p.prototype.$SingleSelectorBase11=function(){'use strict';return (c('Style').isFixed(this.$SingleSelectorBase1)&&!c('Style').isFixed(this.$SingleSelectorBase4.getRoot().parentNode));};p.prototype.align=function(){'use strict';if(!this.$SingleSelectorBase15)this.$SingleSelectorBase15=this.getAlignment();this.$SingleSelectorBase15.align();var r=c('Rect').getElementBounds(this.$SingleSelectorBase2.getRoot()),s=c('Rect').getViewportWithoutScrollbarsBounds(),t=r.t-s.t,u=s.b-r.b,v=r.l-s.l,w=s.r-r.r,x=this.$SingleSelectorBase4.getRoot();if(t<10){q(x,'top',-t+10);}else if(u<10)q(x,'top',u-10);if(v<10){q(x,'left',-v+10);}else if(w<10)q(x,'left',w-10);var y=c('getOverlayZIndex')(this.$SingleSelectorBase1,this.$SingleSelectorBase4.getInsertParent());c('Style').set(this.$SingleSelectorBase4.getRoot(),'z-index',y>200?y:'');};p.prototype.getAlignment=function(){'use strict';return new (c('Alignment'))(new m(this.$SingleSelectorBase4.getRoot(),m.TOP,m.LEFT),new m(this.$SingleSelectorBase12(),n,m.MIDDLE),new m(this.$SingleSelectorBase23(),n,m.MIDDLE));};p.prototype.$SingleSelectorBase23=function(){'use strict';return c('DOMQuery').find(this.$SingleSelectorBase1,"._55pe");};p.prototype.getSelectedItem=function(){'use strict';var r=null;if(this.$SingleSelectorBase18){this.getMenu().forEachItem(function(s){if(s.getValue()===this.$SingleSelectorBase18){!(r===null)?j(0):undefined;r=s;}}.bind(this));}else this.getMenu().forEachItem(function(s){if(c('SelectableMenuUtils').isSelected(s)){!(r===null)?j(0):undefined;r=s;}});!(r!==null)?j(0):undefined;return r;};p.prototype.$SingleSelectorBase12=function(){'use strict';return c('DOMQuery').find(this.getSelectedItem().getRoot(),"._54nh");};p.prototype.destroy=function(){'use strict';this.$SingleSelectorBase2&&this.$SingleSelectorBase2.destroy();this.$SingleSelectorBase5.destroy();this.$SingleSelectorBase4.destroy();};function q(r,s,t){c('Style').set(r,s,c('Style').getFloat(r,s)+t+'px');}f.exports=p;},null);
__d('XUISingleSelector.react',['ix','Image.react','InlineBlock.react','React','ReactDOM','ReactSelectorUtils','ReactXUIMenu','SingleSelectorBase','SubscriptionsHandler','XUIPopoverButton.react','areEqual','cloneWithProps_DEPRECATED'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('ReactXUIMenu').SelectableMenu,k=c('ReactXUIMenu').SelectableItem,l=c('React').createClass({displayName:'XUISingleSelectorButton',render:function(){return (c('React').createElement(c('XUIPopoverButton.react'),babelHelpers['extends']({},this.props,{chevron:c('React').createElement(c('Image.react'),{src:h('/images/ui/x/selector/chevron.png')})})));}}),m=c('React').createClass({displayName:'XUISingleSelector',propTypes:{name:i.string,maxheight:i.number,maxwidth:i.number,defaultValue:i.string,disabled:i.bool,size:i.oneOf(['small','medium','large','xlarge','xxlarge']),suppressed:i.bool,value:i.any,onChange:i.func,onShow:i.func,onHide:i.func,behaviors:i.array},_menu:null,_singleSelector:null,_subscriptions:null,flattenMenuItems:function(){var n=[];c('React').Children.forEach(this.props.children,function(o){if(o)n.push(o);});return n;},processMenuItems:function(){return c('ReactSelectorUtils').processMenuItems(this.flattenMenuItems(),this.getValue());},setMenuValue:function(n){this._singleSelector.setValueWithoutChange(n);},getDefaultProps:function(){return {disabled:false,size:'medium'};},getInitialState:function(){return {value:this.props.value!==undefined?this.props.value:this.props.defaultValue!==undefined?this.props.defaultValue:this.flattenMenuItems()[0].props.value};},componentWillReceiveProps:function(){if(this.props.value!==undefined)this.setState({value:this.props.value});},componentDidMount:function(){var n=c('ReactDOM').findDOMNode(this.refs.button);this._singleSelector=new (c('SingleSelectorBase'))(n,this._createMenu(),{disabled:this.props.disabled},{behaviors:this.props.behaviors});this._subscriptions=new (c('SubscriptionsHandler'))();this._subscriptions.addSubscriptions(this._singleSelector.subscribe('change',this.onChange));if(this.props.onShow)this._subscriptions.addSubscriptions(this._singleSelector.subscribe('show',this.props.onShow));if(this.props.onHide)this._subscriptions.addSubscriptions(this._singleSelector.subscribe('hide',this.props.onHide));},componentDidUpdate:function(n){if(!c('areEqual')(n.children,this.props.children))this._singleSelector.setMenu(this._createMenu());if(n.disabled!==this.props.disabled)if(!this.props.disabled){this._singleSelector.enable();}else this._singleSelector.disable();this.setMenuValue(this.getValue());},componentWillUnmount:function(){this._singleSelector.destroy();if(this._subscriptions){this._subscriptions.release();this._subscriptions=null;}},getValue:function(){return this.props.value!==undefined?this.props.value:this.state.value;},onChange:function(n,o){if(this.props.value===undefined){this.setState({value:o.value});}else this.setMenuValue(this.props.value);if(this.props.onChange)this.props.onChange(o);},_createMenu:function(){var n=c('React').createElement(j,{maxheight:this.props.maxheight},this.processMenuItems().items);return new n.type(n.props);},render:function(){var n=this.processMenuItems().selectedItem,o;if(n.props.icon)o=c('cloneWithProps_DEPRECATED')(n.props.icon,{});return (c('React').createElement(c('InlineBlock.react'),babelHelpers['extends']({},this.props,{alignv:'middle'}),c('React').createElement('input',{type:'hidden',autoComplete:'off',name:this.props.name,value:n.props.value}),c('React').createElement(l,{disabled:this.props.disabled,image:o,label:n.props.label||n.props.children,maxwidth:this.props.maxwidth,ref:'button',size:this.props.size,suppressed:this.props.suppressed})));}});m.Option=k;f.exports=m;},null);
__d('RegexMatchSearchSource',['AbstractSearchSource','SearchableEntry'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('AbstractSearchSource'));i=h&&h.prototype;function j(k,l,m){'use strict';i.constructor.call(this);this.$RegexMatchSearchSource1=new RegExp(k);this.$RegexMatchSearchSource2=l||'';this.$RegexMatchSearchSource3=m||{};}j.prototype.searchImpl=function(k,l,m){'use strict';if(k&&this.$RegexMatchSearchSource1.test(k)){var n=new (c('SearchableEntry'))({uniqueID:k,title:k,type:this.$RegexMatchSearchSource2,auxiliaryData:babelHelpers['extends']({},this.$RegexMatchSearchSource3,{isRegexEntry:true})});l([n],k);return;}l([],k);};f.exports=j;},null);
__d('SingleSelector',['csx','DOM','DOMQuery','SingleSelectorBase'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('SingleSelectorBase'));j=i&&i.prototype;function k(l,m,n,o,p){'use strict';j.constructor.call(this,l,m,o);this.$SingleSelector1=n;this.subscribe('change',this.$SingleSelector2.bind(this));if(p&&p.behaviors)this.enableBehaviors(p.behaviors);}k.prototype.setValue=function(l){'use strict';j.setValue.call(this,l);if(!this.isShown()){var m=this.getSelectedItem();this.inform('change',{label:m.getLabel(),value:m.getValue(),item:m});}};k.prototype.$SingleSelector2=function(l,m){'use strict';this.$SingleSelector3(m.label);this.$SingleSelector1.value=m.value;};k.prototype.$SingleSelector3=function(l){'use strict';c('DOM').setContent(this.$SingleSelector4(),l);};k.prototype.$SingleSelector4=function(){'use strict';return c('DOMQuery').find(this.getButton(),"._55pe");};f.exports=k;},null);